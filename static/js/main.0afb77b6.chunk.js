(window["webpackJsonpchess-diagram-generator"]=window["webpackJsonpchess-diagram-generator"]||[]).push([[0],[,,,,,function(e,t,n){e.exports={App:"App_App__15LM-",board:"App_board__3la-t",controls:"App_controls__2MSL9",footer:"App_footer__3csul",downloadButton:"App_downloadButton__3gTDB"}},function(e,t,n){e.exports={wrapper:"Board_wrapper__2rL7b",yCoords:"Board_yCoords__3rBtB",xCoords:"Board_xCoords__IBJmc",board:"Board_board__2ELh9",row:"Board_row__24UWw"}},,function(e,t,n){e.exports={image:"Piece_image__2xjpZ",emoji:"Piece_emoji__1pCA7",black:"Piece_black__2KXY2",white:"Piece_white__N8YQd"}},function(e,t,n){e.exports={square:"Square_square__2T8jF",black:"Square_black__2xQyZ",white:"Square_white__24vcH",selected:"Square_selected__3HImo"}},function(e,t,n){e.exports={controls:"Controls_controls__2tkdC",column:"Controls_column__3w_rR"}},function(e,t,n){e.exports={coord:"Coord_coord__3jx5j",right:"Coord_right__myifs",top:"Coord_top__2aVrU"}},function(e,t,n){e.exports={button:"PieceButton_button__2lME_",white:"PieceButton_white__251lY",black:"PieceButton_black__1HIVx"}},,,,,,,,function(e,t,n){e.exports=n(33)},,,,,function(e,t,n){},,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(17),c=n.n(a),i=(n(25),n(4)),l=n.n(i),u=n(7),s=n(13),d=n(5),p=n.n(d),f=n(3);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t){switch(t.type){case"selectSquare":return w({},e,{selected:t.payload});case"unselectSquare":return w({},e,{selected:null});default:return e}}var _=n(18),y=n.n(_),v=n(19),h=n.n(v);function g(){return j.apply(this,arguments)}function j(){return(j=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("diagram"),e.next=3,y.a.toPng(t);case 3:n=e.sent,h()(n,"my-node.png");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=n(2),O=n.n(k),E=n(8),C=n.n(E),P={white:{p:{emoji:"\u265f"},R:{emoji:"\u265c"},N:{emoji:"\u265e"},B:{emoji:"\u265d"},Q:{emoji:"\u265b"},K:{emoji:"\u265a"}},black:{p:{emoji:"\u265f"},R:{emoji:"\u265c"},N:{emoji:"\u265e"},B:{emoji:"\u265d"},Q:{emoji:"\u265b"},K:{emoji:"\u265a"}}},S=function(e){var t=e.piece,n=t.piece,r=t.color;if(!n)return null;var a=P[r][n],c=a.SVG,i=a.image,l=a.emoji;return c?o.a.createElement(c,null):i?o.a.createElement("img",{className:C.a.image,src:i,alt:"".concat(r," ").concat(n)}):l?o.a.createElement("span",{className:O()(C.a.emoji,C.a[r])},l):n},N=n(9),B=n.n(N),x=function(e){var t=e.color,n=e.piece,a=e.selected,c=e.row,i=e.col,l=e.onClick,u=Object(r.useCallback)((function(){return l(c,i)}),[c,i,l]);return o.a.createElement("div",{className:O()(B.a.square,B.a[t],Object(f.a)({},B.a.selected,a)),onClick:u},o.a.createElement(S,{piece:n}))};function q(e,t,n){return e&&e.row===t&&e.col===n}var A=n(11),D=n.n(A),R=Array(8).fill(null),L=function(e){var t=e.children,n=e.float;return o.a.createElement("div",{className:O()(D.a.coord,D.a[n])},t)},W=function(){return R.map((function(e,t){return o.a.createElement(L,{key:"row-coord-".concat(t),float:"right"},8-t)}))},I=function(){return R.map((function(e,t){return o.a.createElement(L,{key:"col-coord-".concat(t),float:"top"},String.fromCharCode(65+t).toLocaleLowerCase())}))},M=n(6),Q=n.n(M),U=function(e){var t=e.board,n=e.onSquareClick,r=e.selectedSquare;return o.a.createElement("div",{id:"diagram",className:Q.a.wrapper},o.a.createElement("div",{className:Q.a.yCoords},o.a.createElement(W,null)),o.a.createElement("div",{className:Q.a.board},t.map((function(e,t){return o.a.createElement(K,{key:"row-".concat(t),row:e,rowIndex:t,onSquareClick:n,selectedSquare:r})}))),o.a.createElement("div",{className:Q.a.xCoords},o.a.createElement(I,null)))},K=function(e){var t=e.row,n=e.rowIndex,r=e.onSquareClick,a=e.selectedSquare;return o.a.createElement("div",{className:Q.a.row},t.map((function(e,t){return o.a.createElement(x,{key:"square-".concat(n,"-").concat(t),row:n,col:t,color:T(n,t),onClick:r,selected:q(a,n,t),piece:e})})))},T=function(e,t){return e%2?J(t):H(t)},H=function(e){return e%2?"black":"white"},J=function(e){return e%2?"white":"black"},V=n(10),Y=n.n(V),Z=n(12),F=n.n(Z),G=function(e){var t=e.piece,n=e.color,a=e.disabled,c=e.onClick,i=Object(r.useCallback)((function(){return c(t,n)}),[t,n,c]);return o.a.createElement("button",{className:O()(F.a.button,F.a[n]),onClick:i,disabled:a},t)},X=["R","N","B","Q","K","p"],$=function(e){e.active;var t=e.onPieceButtonClick;return o.a.createElement("div",{className:Y.a.controls},o.a.createElement("div",{className:Y.a.column},X.map((function(e){return o.a.createElement(G,{key:"white-".concat(e),piece:e,color:"white",onClick:t})}))),o.a.createElement("div",{className:Y.a.column},X.map((function(e){return o.a.createElement(G,{key:"black-".concat(e),piece:e,color:"black",onClick:t})}))))};function z(e,t){return{type:"selectSquare",payload:{row:e,col:t}}}function ee(e,t){return"".concat(e,"-").concat(t)}function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(){return Array(64).fill({}).reduce((function(e,t,n){return e["".concat(Math.floor(n/8),"-").concat(n%8)]=t,e}),{})}function oe(e,t){if("number"===typeof t.payload.row&&"number"===typeof t.payload.col){var n=ee(t.payload.row,t.payload.col);return ne({},e,Object(f.a)({},n,function(e,t){switch(t.type){case"setPiece":return ne({},e,{piece:t.payload.piece,color:t.payload.color});default:return e}}(e[n],t)))}}function ae(e){return Array(64).fill(null).reduce((function(t,n,r){var o=Math.floor(r/8),a=r%8;return t[o]||(t[o]=[]),t[o][a]=function(e,t,n){return e[ee(t,n)]}(e,o,a),t}),[])}var ce=function(){var e=Object(r.useReducer)(b,{selected:null}),t=Object(s.a)(e,2),n=t[0],a=t[1],c=Object(r.useCallback)((function(e,t){return a(z(e,t))}),[]),i=Object(r.useReducer)(oe,void 0,re),d=Object(s.a)(i,2),f=d[0],m=d[1],w=Object(r.useCallback)((function(e,t){n.selected&&m(function(e,t,n,r){return{type:"setPiece",payload:{row:e,col:t,piece:n,color:r}}}(n.selected.row,n.selected.col,e,t))}),[n.selected]),_=ae(f),y=Object(r.useCallback)(Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"unselectSquare"}),e.next=3,g();case 3:a(z(n.selected.row,n.selected.col));case 4:case"end":return e.stop()}}),e)}))),[n.selected]);return o.a.createElement("div",{className:p.a.App},o.a.createElement("section",{className:p.a.board},o.a.createElement(U,{board:_,selectedSquare:n.selected,onSquareClick:c})),o.a.createElement("section",{className:p.a.buttons},o.a.createElement($,{onPieceButtonClick:w})),o.a.createElement("footer",{className:p.a.footer},o.a.createElement("button",{className:p.a.downloadButton,onClick:y},"Download")))},ie=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function le(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(o.a.createElement(ce,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/chess-diagram-generator",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/chess-diagram-generator","/service-worker.js");ie?(!function(e,t){fetch(e).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):le(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):le(t,e)}))}}()}],[[20,1,2]]]);
//# sourceMappingURL=main.0afb77b6.chunk.js.map