(window["webpackJsonpchess-diagram-generator"]=window["webpackJsonpchess-diagram-generator"]||[]).push([[0],[,,,,,function(e,t,r){e.exports={App:"App_App__15LM-",board:"App_board__3la-t",controls:"App_controls__2MSL9",footer:"App_footer__3csul",downloadButton:"App_downloadButton__3gTDB"}},function(e,t,r){e.exports={wrapper:"Board_wrapper__2rL7b",yCoords:"Board_yCoords__3rBtB",xCoords:"Board_xCoords__IBJmc",board:"Board_board__2ELh9",row:"Board_row__24UWw"}},,function(e,t,r){e.exports={image:"Piece_image__2xjpZ",emoji:"Piece_emoji__1pCA7",black:"Piece_black__2KXY2",white:"Piece_white__N8YQd"}},function(e,t,r){e.exports={square:"Square_square__2T8jF",black:"Square_black__2xQyZ",white:"Square_white__24vcH",selected:"Square_selected__3HImo"}},function(e,t,r){e.exports={controls:"Controls_controls__2tkdC",column:"Controls_column__3w_rR"}},function(e,t,r){e.exports={coord:"Coord_coord__3jx5j",right:"Coord_right__myifs",top:"Coord_top__2aVrU"}},function(e,t,r){e.exports={button:"PieceButton_button__2lME_",white:"PieceButton_white__251lY",black:"PieceButton_black__1HIVx"}},,,,,,,,function(e,t,r){e.exports=r(33)},,,,,function(e,t,r){},,,,,,,,function(e,t,r){"use strict";r.r(t);var n=r(0),o=r.n(n),a=r(17),c=r.n(a),l=(r(25),r(4)),i=r.n(l),u=r(7),s=r(13),p=r(5),d=r.n(p),m=r(3);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(r,!0).forEach((function(t){Object(m.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t){switch(t.type){case"selectSquare":return _({},e,{selected:t.payload});case"unselectSquare":return _({},e,{selected:null});default:return e}}var w=r(18),y=r.n(w),j=r(19),k=r.n(j);function v(){return O.apply(this,arguments)}function O(){return(O=Object(u.a)(i.a.mark((function e(){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("diagram"),e.next=3,y.a.toPng(t);case 3:r=e.sent,k()(r,"my-node.png");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h=r(2),E=r.n(h),g=r(8),C=r.n(g),P={white:{p:{emoji:"\u265f"},R:{emoji:"\u265c"},N:{emoji:"\u265e"},B:{emoji:"\u265d"},Q:{emoji:"\u265b"},K:{emoji:"\u265a"}},black:{p:{emoji:"\u265f"},R:{emoji:"\u265c"},N:{emoji:"\u265e"},B:{emoji:"\u265d"},Q:{emoji:"\u265b"},K:{emoji:"\u265a"}}},B=function(e){var t=e.piece,r=t.piece,n=t.color;if(!r)return null;var a=P[n][r],c=a.SVG,l=a.image,i=a.emoji;return c?o.a.createElement(c,null):l?o.a.createElement("img",{className:C.a.image,src:l,alt:"".concat(n," ").concat(r)}):i?o.a.createElement("span",{className:E()(C.a.emoji,C.a[n])},i):r},S=r(9),N=r.n(S),x=function(e){var t=e.color,r=e.piece,a=e.selected,c=e.row,l=e.col,i=e.onClick,u=Object(n.useCallback)((function(){return i(c,l)}),[c,l,i]);return o.a.createElement("div",{className:E()(N.a.square,N.a[t],Object(m.a)({},N.a.selected,a)),onClick:u},o.a.createElement(B,{piece:r}))};function q(e,t,r){return e&&e.row===t&&e.col===r}var A=r(11),D=r.n(A),I=Array(8).fill(null),L=function(e){var t=e.children,r=e.float;return o.a.createElement("div",{className:E()(D.a.coord,D.a[r])},t)},R=function(){return I.map((function(e,t){return o.a.createElement(L,{key:"row-coord-".concat(t),float:"right"},8-t)}))},M=function(){return I.map((function(e,t){return o.a.createElement(L,{key:"col-coord-".concat(t),float:"top"},String.fromCharCode(65+t).toLocaleLowerCase())}))},Q=r(6),K=r.n(Q),H=function(e){var t=e.board,r=e.onSquareClick,n=e.selectedSquare;return o.a.createElement("div",{id:"diagram",className:K.a.wrapper},o.a.createElement("div",{className:K.a.yCoords},o.a.createElement(R,null)),o.a.createElement("div",{className:K.a.board},t.map((function(e,t){return o.a.createElement(J,{key:"row-".concat(t),row:e,rowIndex:t,onSquareClick:r,selectedSquare:n})}))),o.a.createElement("div",{className:K.a.xCoords},o.a.createElement(M,null)))},J=function(e){var t=e.row,r=e.rowIndex,n=e.onSquareClick,a=e.selectedSquare;return o.a.createElement("div",{className:K.a.row},t.map((function(e,t){return o.a.createElement(x,{key:"square-".concat(r,"-").concat(t),row:r,col:t,color:V(r,t),onClick:n,selected:q(a,r,t),piece:e})})))},V=function(e,t){return e%2?Y(t):W(t)},W=function(e){return e%2?"black":"white"},Y=function(e){return e%2?"white":"black"},T=r(10),U=r.n(T),Z=r(12),F=r.n(Z),G=function(e){var t=e.piece,r=e.color,a=e.disabled,c=e.onClick,l=Object(n.useCallback)((function(){return c(t,r)}),[t,r,c]);return o.a.createElement("button",{className:E()(F.a.button,F.a[r]),onClick:l,disabled:a},t)},X=["R","N","B","Q","K","p"],$=function(e){e.active;var t=e.onPieceButtonClick;return o.a.createElement("div",{className:U.a.controls},o.a.createElement("div",{className:U.a.column},X.map((function(e){return o.a.createElement(G,{key:"white-".concat(e),piece:e,color:"white",onClick:t})}))),o.a.createElement("div",{className:U.a.column},X.map((function(e){return o.a.createElement(G,{key:"black-".concat(e),piece:e,color:"black",onClick:t})}))))};function z(e,t){return{type:"selectSquare",payload:{row:e,col:t}}}function ee(e,t){return"".concat(e,"-").concat(t)}function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(r,!0).forEach((function(t){Object(m.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ne(){return Array(64).fill({}).reduce((function(e,t,r){return e["".concat(Math.floor(r/8),"-").concat(r%8)]=t,e}),{})}function oe(e,t){if("number"===typeof t.payload.row&&"number"===typeof t.payload.col){var r=ee(t.payload.row,t.payload.col);return re({},e,Object(m.a)({},r,function(e,t){switch(t.type){case"setPiece":return re({},e,{piece:t.payload.piece,color:t.payload.color});default:return e}}(e[r],t)))}}function ae(e){return Array(64).fill(null).reduce((function(t,r,n){var o=Math.floor(n/8),a=n%8;return t[o]||(t[o]=[]),t[o][a]=function(e,t,r){return e[ee(t,r)]}(e,o,a),t}),[])}var ce=function(){var e=Object(n.useReducer)(b,{selected:null}),t=Object(s.a)(e,2),r=t[0],a=t[1],c=Object(n.useCallback)((function(e,t){return a(z(e,t))}),[]),l=Object(n.useReducer)(oe,void 0,ne),p=Object(s.a)(l,2),m=p[0],f=p[1],_=Object(n.useCallback)((function(e,t){r.selected&&f(function(e,t,r,n){return{type:"setPiece",payload:{row:e,col:t,piece:r,color:n}}}(r.selected.row,r.selected.col,e,t))}),[r.selected]),w=ae(m),y=Object(n.useCallback)(Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"unselectSquare"}),e.next=3,v();case 3:a(z(r.selected.row,r.selected.col));case 4:case"end":return e.stop()}}),e)}))),[r.selected]);return o.a.createElement("div",{className:d.a.App},o.a.createElement("section",{className:d.a.board},o.a.createElement(H,{board:w,selectedSquare:r.selected,onSquareClick:c})),o.a.createElement("section",{className:d.a.buttons},o.a.createElement($,{onPieceButtonClick:_})),o.a.createElement("footer",{className:d.a.footer},o.a.createElement("button",{className:d.a.downloadButton,onClick:y},"Download")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(ce,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[20,1,2]]]);
//# sourceMappingURL=main.76be66e6.chunk.js.map