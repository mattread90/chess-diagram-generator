(window["webpackJsonpchess-diagram-generator"]=window["webpackJsonpchess-diagram-generator"]||[]).push([[0],{10:function(e,t,n){e.exports={board:"Board_board__2ELh9",row:"Board_row__24UWw"}},11:function(e,t,n){e.exports={button:"PieceButton_button__2lME_",white:"PieceButton_white__251lY",black:"PieceButton_black__1HIVx"}},19:function(e,t,n){e.exports=n(32)},24:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),o=n(16),a=n.n(o),l=(n(24),n(4)),i=n.n(l),u=n(6),s=n(12),p=n(5),d=n.n(p),m=n(2);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t){switch(t.type){case"selectSquare":return b({},e,{selected:t.payload});case"unselectSquare":return b({},e,{selected:null});default:return e}}var _=n(17),j=n.n(_),y=n(18),O=n.n(y);function k(){return v.apply(this,arguments)}function v(){return(v=Object(u.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("diagram"),e.next=3,j.a.toPng(t);case 3:n=e.sent,O()(n,"my-node.png");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h=n(3),g=n.n(h),E=n(7),P=n.n(E),C={white:{R:{emoji:"\u265c"},N:{emoji:"\u265e"},B:{emoji:"\u265d"},Q:{emoji:"\u265b"},K:{emoji:"\u265a"},p:{emoji:"\u265f"}},black:{R:{emoji:"\u265c"},N:{emoji:"\u265e"},B:{emoji:"\u265d"},Q:{emoji:"\u265b"},K:{emoji:"\u265a"},p:{emoji:"\u265f"}}},S=function(e){var t=e.piece,n=t.piece,r=t.color;if(!n)return null;var o=C[r][n],a=o.image,l=o.emoji;return a?c.a.createElement("img",{className:P.a.image,src:a,alt:"".concat(r," ").concat(n)}):l?c.a.createElement("span",{className:g()(P.a.emoji,P.a[r])},l):n},q=n(8),N=n.n(q),B=function(e){var t=e.color,n=e.piece,o=e.selected,a=e.row,l=e.col,i=e.onClick,u=Object(r.useCallback)((function(){return i(a,l)}),[a,l,i]);return c.a.createElement("div",{className:g()(N.a.square,N.a[t],Object(m.a)({},N.a.selected,o)),onClick:u},c.a.createElement(S,{piece:n}))},x=n(10),A=n.n(x);function D(e,t,n){return e&&e.row===t&&e.col===n}var I=function(e){var t=e.board,n=e.onSquareClick,r=e.selectedSquare;return c.a.createElement("div",{id:"diagram",className:A.a.board},t.map((function(e,t){return c.a.createElement(R,{key:"row-".concat(t),row:e,rowIndex:t,onSquareClick:n,selectedSquare:r})})))},R=function(e){var t=e.row,n=e.rowIndex,r=e.onSquareClick,o=e.selectedSquare;return c.a.createElement("div",{className:A.a.row},t.map((function(e,t){return c.a.createElement(B,{key:"square-".concat(n,"-").concat(t),row:n,col:t,color:M(n,t),onClick:r,selected:D(o,n,t),piece:e})})))},M=function(e,t){return e%2?K(t):Q(t)},Q=function(e){return e%2?"black":"white"},K=function(e){return e%2?"white":"black"},H=n(9),L=n.n(H),W=n(11),Y=n.n(W),J=function(e){var t=e.piece,n=e.color,o=e.disabled,a=e.onClick,l=Object(r.useCallback)((function(){return a(t,n)}),[t,n,a]);return c.a.createElement("button",{className:g()(Y.a.button,Y.a[n]),onClick:l,disabled:o},t)},T=["R","N","B","Q","K","p"],Z=function(e){e.active;var t=e.onPieceButtonClick;return c.a.createElement("div",{className:L.a.controls},c.a.createElement("div",{className:L.a.column},T.map((function(e){return c.a.createElement(J,{key:"white-".concat(e),piece:e,color:"white",onClick:t})}))),c.a.createElement("div",{className:L.a.column},T.map((function(e){return c.a.createElement(J,{key:"black-".concat(e),piece:e,color:"black",onClick:t})}))))};function F(e,t){return{type:"selectSquare",payload:{row:e,col:t}}}function U(e,t){return"".concat(e,"-").concat(t)}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(n,!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(){return Array(64).fill({}).reduce((function(e,t,n){return e["".concat(Math.floor(n/8),"-").concat(n%8)]=t,e}),{})}function z(e,t){if("number"===typeof t.payload.row&&"number"===typeof t.payload.col){var n=U(t.payload.row,t.payload.col);return X({},e,Object(m.a)({},n,function(e,t){switch(t.type){case"setPiece":return X({},e,{piece:t.payload.piece,color:t.payload.color});default:return e}}(e[n],t)))}}function G(e){return Array(64).fill(null).reduce((function(t,n,r){var c=Math.floor(r/8),o=r%8;return t[c]||(t[c]=[]),t[c][o]=function(e,t,n){return e[U(t,n)]}(e,c,o),t}),[])}var ee=function(){var e=Object(r.useReducer)(w,{selected:null}),t=Object(s.a)(e,2),n=t[0],o=t[1],a=Object(r.useCallback)((function(e,t){return o(F(e,t))}),[]),l=Object(r.useReducer)(z,void 0,$),p=Object(s.a)(l,2),m=p[0],f=p[1],b=Object(r.useCallback)((function(e,t){n.selected&&f(function(e,t,n,r){return{type:"setPiece",payload:{row:e,col:t,piece:n,color:r}}}(n.selected.row,n.selected.col,e,t))}),[n.selected]),_=G(m),j=Object(r.useCallback)(Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o({type:"unselectSquare"}),e.next=3,k();case 3:o(F(n.selected.row,n.selected.col));case 4:case"end":return e.stop()}}),e)}))),[n.selected]);return c.a.createElement("div",{className:d.a.App},c.a.createElement("section",{className:d.a.board},c.a.createElement(I,{board:_,selectedSquare:n.selected,onSquareClick:a})),c.a.createElement("section",{className:d.a.buttons},c.a.createElement(Z,{onPieceButtonClick:b})),c.a.createElement("footer",{className:d.a.footer},c.a.createElement("button",{className:d.a.downloadButton,onClick:j},"Download")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(c.a.createElement(ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},5:function(e,t,n){e.exports={App:"App_App__15LM-",board:"App_board__3la-t",controls:"App_controls__2MSL9",footer:"App_footer__3csul",downloadButton:"App_downloadButton__3gTDB"}},7:function(e,t,n){e.exports={image:"Piece_image__2xjpZ",emoji:"Piece_emoji__1pCA7",black:"Piece_black__2KXY2",white:"Piece_white__N8YQd"}},8:function(e,t,n){e.exports={square:"Square_square__2T8jF",black:"Square_black__2xQyZ",white:"Square_white__24vcH",selected:"Square_selected__3HImo"}},9:function(e,t,n){e.exports={controls:"Controls_controls__2tkdC",column:"Controls_column__3w_rR"}}},[[19,1,2]]]);
//# sourceMappingURL=main.e7aac726.chunk.js.map