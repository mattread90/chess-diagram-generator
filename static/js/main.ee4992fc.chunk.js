(window["webpackJsonpchess-diagram-generator"]=window["webpackJsonpchess-diagram-generator"]||[]).push([[0],[,,,,,function(e,t,r){e.exports={App:"App_App__15LM-",board:"App_board__3la-t",controls:"App_controls__2MSL9",footer:"App_footer__3csul",downloadButton:"App_downloadButton__3gTDB"}},function(e,t,r){e.exports={wrapper:"Board_wrapper__2rL7b",yCoords:"Board_yCoords__3rBtB",xCoords:"Board_xCoords__IBJmc",board:"Board_board__2ELh9",row:"Board_row__24UWw"}},,function(e,t,r){e.exports={image:"Piece_image__2xjpZ",emoji:"Piece_emoji__1pCA7",black:"Piece_black__2KXY2",white:"Piece_white__N8YQd"}},function(e,t,r){e.exports={square:"Square_square__2T8jF",black:"Square_black__2xQyZ",white:"Square_white__24vcH",selected:"Square_selected__3HImo"}},function(e,t,r){e.exports={controls:"Controls_controls__2tkdC",column:"Controls_column__3w_rR"}},function(e,t,r){e.exports={coord:"Coord_coord__3jx5j",right:"Coord_right__myifs",top:"Coord_top__2aVrU"}},function(e,t,r){e.exports={button:"PieceButton_button__2lME_",white:"PieceButton_white__251lY",black:"PieceButton_black__1HIVx"}},,,,,,,,function(e,t,r){e.exports=r(33)},,,,,function(e,t,r){},,,,,,,,function(e,t,r){"use strict";r.r(t);var n=r(0),o=r.n(n),c=r(17),a=r.n(c),l=(r(25),r(4)),i=r.n(l),u=r(7),s=r(13),p=r(5),d=r.n(p),m=r(3);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(r,!0).forEach((function(t){Object(m.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t){switch(t.type){case"selectSquare":return _({},e,{selected:t.payload});case"unselectSquare":return _({},e,{selected:null});default:return e}}var w=r(18),y=r.n(w),j=r(19),k=r.n(j);function v(){return O.apply(this,arguments)}function O(){return(O=Object(u.a)(i.a.mark((function e(){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("diagram"),e.next=3,y.a.toPng(t);case 3:r=e.sent,k()(r,"my-node.png");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h=r(2),E=r.n(h),g=r(8),C=r.n(g),P={white:{R:{emoji:"\u265c"},N:{emoji:"\u265e"},B:{emoji:"\u265d"},Q:{emoji:"\u265b"},K:{emoji:"\u265a"},p:{emoji:"\u265f"}},black:{R:{emoji:"\u265c"},N:{emoji:"\u265e"},B:{emoji:"\u265d"},Q:{emoji:"\u265b"},K:{emoji:"\u265a"},p:{emoji:"\u265f"}}},B=function(e){var t=e.piece,r=t.piece,n=t.color;if(!r)return null;var c=P[n][r],a=c.image,l=c.emoji;return a?o.a.createElement("img",{className:C.a.image,src:a,alt:"".concat(n," ").concat(r)}):l?o.a.createElement("span",{className:E()(C.a.emoji,C.a[n])},l):r},N=r(9),S=r.n(N),x=function(e){var t=e.color,r=e.piece,c=e.selected,a=e.row,l=e.col,i=e.onClick,u=Object(n.useCallback)((function(){return i(a,l)}),[a,l,i]);return o.a.createElement("div",{className:E()(S.a.square,S.a[t],Object(m.a)({},S.a.selected,c)),onClick:u},o.a.createElement(B,{piece:r}))};function q(e,t,r){return e&&e.row===t&&e.col===r}var A=r(11),D=r.n(A),I=Array(8).fill(null),L=function(e){var t=e.children,r=e.float;return o.a.createElement("div",{className:E()(D.a.coord,D.a[r])},t)},R=function(){return I.map((function(e,t){return o.a.createElement(L,{key:"row-coord-".concat(t),float:"right"},8-t)}))},M=function(){return I.map((function(e,t){return o.a.createElement(L,{key:"col-coord-".concat(t),float:"top"},String.fromCharCode(65+t).toLocaleLowerCase())}))},Q=r(6),K=r.n(Q),H=function(e){var t=e.board,r=e.onSquareClick,n=e.selectedSquare;return o.a.createElement("div",{id:"diagram",className:K.a.wrapper},o.a.createElement("div",{className:K.a.yCoords},o.a.createElement(R,null)),o.a.createElement("div",{className:K.a.board},t.map((function(e,t){return o.a.createElement(J,{key:"row-".concat(t),row:e,rowIndex:t,onSquareClick:r,selectedSquare:n})}))),o.a.createElement("div",{className:K.a.xCoords},o.a.createElement(M,null)))},J=function(e){var t=e.row,r=e.rowIndex,n=e.onSquareClick,c=e.selectedSquare;return o.a.createElement("div",{className:K.a.row},t.map((function(e,t){return o.a.createElement(x,{key:"square-".concat(r,"-").concat(t),row:r,col:t,color:W(r,t),onClick:n,selected:q(c,r,t),piece:e})})))},W=function(e,t){return e%2?T(t):Y(t)},Y=function(e){return e%2?"black":"white"},T=function(e){return e%2?"white":"black"},U=r(10),V=r.n(U),Z=r(12),F=r.n(Z),X=function(e){var t=e.piece,r=e.color,c=e.disabled,a=e.onClick,l=Object(n.useCallback)((function(){return a(t,r)}),[t,r,a]);return o.a.createElement("button",{className:E()(F.a.button,F.a[r]),onClick:l,disabled:c},t)},$=["R","N","B","Q","K","p"],z=function(e){e.active;var t=e.onPieceButtonClick;return o.a.createElement("div",{className:V.a.controls},o.a.createElement("div",{className:V.a.column},$.map((function(e){return o.a.createElement(X,{key:"white-".concat(e),piece:e,color:"white",onClick:t})}))),o.a.createElement("div",{className:V.a.column},$.map((function(e){return o.a.createElement(X,{key:"black-".concat(e),piece:e,color:"black",onClick:t})}))))};function G(e,t){return{type:"selectSquare",payload:{row:e,col:t}}}function ee(e,t){return"".concat(e,"-").concat(t)}function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(r,!0).forEach((function(t){Object(m.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ne(){return Array(64).fill({}).reduce((function(e,t,r){return e["".concat(Math.floor(r/8),"-").concat(r%8)]=t,e}),{})}function oe(e,t){if("number"===typeof t.payload.row&&"number"===typeof t.payload.col){var r=ee(t.payload.row,t.payload.col);return re({},e,Object(m.a)({},r,function(e,t){switch(t.type){case"setPiece":return re({},e,{piece:t.payload.piece,color:t.payload.color});default:return e}}(e[r],t)))}}function ce(e){return Array(64).fill(null).reduce((function(t,r,n){var o=Math.floor(n/8),c=n%8;return t[o]||(t[o]=[]),t[o][c]=function(e,t,r){return e[ee(t,r)]}(e,o,c),t}),[])}var ae=function(){var e=Object(n.useReducer)(b,{selected:null}),t=Object(s.a)(e,2),r=t[0],c=t[1],a=Object(n.useCallback)((function(e,t){return c(G(e,t))}),[]),l=Object(n.useReducer)(oe,void 0,ne),p=Object(s.a)(l,2),m=p[0],f=p[1],_=Object(n.useCallback)((function(e,t){r.selected&&f(function(e,t,r,n){return{type:"setPiece",payload:{row:e,col:t,piece:r,color:n}}}(r.selected.row,r.selected.col,e,t))}),[r.selected]),w=ce(m),y=Object(n.useCallback)(Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:"unselectSquare"}),e.next=3,v();case 3:c(G(r.selected.row,r.selected.col));case 4:case"end":return e.stop()}}),e)}))),[r.selected]);return o.a.createElement("div",{className:d.a.App},o.a.createElement("section",{className:d.a.board},o.a.createElement(H,{board:w,selectedSquare:r.selected,onSquareClick:a})),o.a.createElement("section",{className:d.a.buttons},o.a.createElement(z,{onPieceButtonClick:_})),o.a.createElement("footer",{className:d.a.footer},o.a.createElement("button",{className:d.a.downloadButton,onClick:y},"Download")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(o.a.createElement(ae,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[20,1,2]]]);
//# sourceMappingURL=main.ee4992fc.chunk.js.map